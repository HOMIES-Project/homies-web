<div class="container py-5">
    <div class="row d-flex justify-content-center align-items-center">
        <div class="col-12 col-md-8 col-lg-6 p-0">
            <div class="card card-login text-black shadow-lg rounded">
                <div class="card-body text-center">
                    <div class="mb-5 mt-1 pb-2">
                        <img src="../../../assets/images/homies-logo.png" alt="" style="width: 150px"
                            class="m-5 rounded" />
                        <form [formGroup]="recoveryFormEmail" (ngSubmit)="submitForm()" class="" *ngIf="!this.key">
                            <div class="d-flex flex-column col-10 m-auto justify-content-center">
                                <p>Introduce el email con el que estás registrado</p>
                                <!--EMAIL-->
                                <div class="form-outline form-white mb-4">
                                    <div class="input-group">
                                        <!-- Icono Usuario -->
                                        <div class="input-group-text">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M3 4H21C21.2652 4 21.5196 4.10536 21.7071 4.29289C21.8946 4.48043 22 4.73478 22 5V19C22 19.2652 21.8946 19.5196 21.7071 19.7071C21.5196 19.8946 21.2652 20 21 20H3C2.73478 20 2.48043 19.8946 2.29289 19.7071C2.10536 19.5196 2 19.2652 2 19V5C2 4.73478 2.10536 4.48043 2.29289 4.29289C2.48043 4.10536 2.73478 4 3 4ZM20 8.238L12.072 14.338L4 8.216V18H20V8.238ZM4.511 6L12.061 11.662L19.502 6H4.511Z"
                                                    fill="#34ADE7" />
                                            </svg>
                                        </div>
                                        <input id="email" type="email" name="email" formControlName="email"
                                            class="fields form-control" placeholder="Email" [ngClass]="{
                                                'is-invalid':
                                                  this.emailSent && this.recoveryForm.controls.email.errors
                                              }"/>
                                        <!--Validation-->
                                        <div class="invalid-feedback" *ngIf="
                                        this.emailSent &&
                                        this.recoveryForm.controls.email.errors?.required
                                      ">
                                        ¡Tienes que rellenar este campo!
                                      </div>
                                      <div class="invalid-feedback" *ngIf="
                                        this.emailSent &&
                                        this.recoveryForm.controls.email.errors?.email
                                      ">
                                        ¡Tienes que introducir un email!
                                      </div>
                                    </div>
                                </div>

                                <button type="submit" value="enviar"
                                    class="btn formButton btn-lg px-5 text-uppercase mt-4 text-white">
                                    <span class="spinner-border spinner-border-sm mr-1" *ngIf="isLoading"></span>
                                    Enviar
                                </button>

                            </div>
                        </form>
                        <form [formGroup]="recoveryForm" (ngSubmit)="submitForm1()" class="" *ngIf="this.key">
                          <div class="d-flex flex-column col-10 m-auto justify-content-center">
                              <p>Introduce la nueva contraseña</p>


                              <!-- PASSWORD RESET -->
                              <div class="form-outline mb-4">
                                  <div class="input-group">
                                    <!-- ICONO CANDADO -->
                                    <div class="input-group-text">
                                      <svg
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                      >
                                        <path
                                          d="M18 8H20C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9V21C21 21.2652 20.8946 21.5196 20.7071 21.7071C20.5196 21.8946 20.2652 22 20 22H4C3.73478 22 3.48043 21.8946 3.29289 21.7071C3.10536 21.5196 3 21.2652 3 21V9C3 8.73478 3.10536 8.48043 3.29289 8.29289C3.48043 8.10536 3.73478 8 4 8H6V7C6 5.4087 6.63214 3.88258 7.75736 2.75736C8.88258 1.63214 10.4087 1 12 1C13.5913 1 15.1174 1.63214 16.2426 2.75736C17.3679 3.88258 18 5.4087 18 7V8ZM5 10V20H19V10H5ZM16 8V7C16 5.93913 15.5786 4.92172 14.8284 4.17157C14.0783 3.42143 13.0609 3 12 3C10.9391 3 9.92172 3.42143 9.17157 4.17157C8.42143 4.92172 8 5.93913 8 7V8H16Z"
                                          fill="#34ADE7"
                                        />
                                      </svg>
                                    </div>
                                    <input
                                      id="pass"
                                      type="password"
                                      name="pass"
                                      formControlName="password"
                                      placeholder="Contraseña nueva"
                                      [type]="showPassword ? 'text' : 'password'"
                                      class="fields form-control password-field is-invalid"
                                      [ngClass]="{
                                        'is-invalid':
                                          this.passwordSent &&
                                          this.recoveryForm.controls.password.errors
                                      }"
                                    />
                                    <!-- ICONO NO SEE -->
                                    <div class="input-group-text no-see">
                                      <svg
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        (click)="showPass()"
                                        *ngIf="!this.showPassword"
                                      >
                                        <g opacity="0.3">
                                          <path
                                            d="M17.8822 19.2971C16.1234 20.4126 14.0829 21.0034 12.0002 21.0001C6.60815 21.0001 2.12215 17.1201 1.18115 12.0001C1.61118 9.67078 2.78278 7.54296 4.52115 5.93407L1.39215 2.80807L2.80715 1.39307L22.6062 21.1931L21.1912 22.6071L17.8812 19.2971H17.8822ZM5.93515 7.35007C4.57616 8.58566 3.62947 10.2089 3.22315 12.0001C3.53545 13.3665 4.16242 14.6412 5.05416 15.7227C5.94589 16.8041 7.07778 17.6625 8.3597 18.2294C9.64163 18.7963 11.0382 19.0561 12.4382 18.9882C13.8383 18.9203 15.2031 18.5264 16.4242 17.8381L14.3962 15.8101C13.5328 16.3539 12.5104 16.5882 11.4964 16.4745C10.4824 16.3608 9.53719 15.906 8.81572 15.1845C8.09425 14.463 7.63938 13.5178 7.52571 12.5038C7.41205 11.4899 7.64634 10.4674 8.19015 9.60407L5.93515 7.35007ZM12.9142 14.3281L9.67215 11.0861C9.49422 11.539 9.45234 12.034 9.55166 12.5104C9.65098 12.9868 9.88717 13.4238 10.2313 13.7679C10.5754 14.1121 11.0124 14.3482 11.4888 14.4476C11.9652 14.5469 12.4602 14.505 12.9132 14.3271L12.9142 14.3281ZM20.8072 16.5921L19.3762 15.1621C20.0446 14.2094 20.5205 13.1353 20.7772 12.0001C20.5054 10.8098 19.9944 9.68721 19.2753 8.70056C18.5562 7.71391 17.6439 6.88379 16.594 6.26067C15.5441 5.63755 14.3784 5.23443 13.1679 5.07583C11.9573 4.91723 10.7272 5.00645 9.55215 5.33807L7.97415 3.76007C9.22115 3.27007 10.5802 3.00007 12.0002 3.00007C17.3922 3.00007 21.8782 6.88007 22.8192 12.0001C22.5127 13.6658 21.824 15.2377 20.8072 16.5921V16.5921ZM11.7232 7.50807C12.3597 7.46873 12.9973 7.56513 13.5937 7.79088C14.1901 8.01663 14.7318 8.36658 15.1827 8.81752C15.6336 9.26846 15.9836 9.81009 16.2093 10.4065C16.4351 11.003 16.5315 11.6406 16.4922 12.2771L11.7222 7.50807H11.7232Z"
                                            fill="#1E2A0F"
                                          />
                                        </g>
                                      </svg>
                                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" (click)="showPass()"
                                      *ngIf="this.showPassword">
                                        <path d="M9.89062 9.89062C10.4844 9.29688 11.1875 9 12 9C12.8125 9 13.5156 9.29688 14.1094 9.89062C14.7031 10.4844 15 11.1875 15 12C15 12.8125 14.7031 13.5156 14.1094 14.1094C13.5156 14.7031 12.8125 15 12 15C11.1875 15 10.4844 14.7031 9.89062 14.1094C9.29688 13.5156 9 12.8125 9 12C9 11.1875 9.29688 10.4844 9.89062 9.89062ZM8.4375 15.5625C9.4375 16.5312 10.625 17.0156 12 17.0156C13.375 17.0156 14.5469 16.5312 15.5156 15.5625C16.5156 14.5625 17.0156 13.375 17.0156 12C17.0156 10.625 16.5156 9.45312 15.5156 8.48438C14.5469 7.48438 13.375 6.98438 12 6.98438C10.625 6.98438 9.4375 7.48438 8.4375 8.48438C7.46875 9.45312 6.98438 10.625 6.98438 12C6.98438 13.375 7.46875 14.5625 8.4375 15.5625ZM5.29688 6.5625C7.29688 5.1875 9.53125 4.5 12 4.5C14.4688 4.5 16.7031 5.1875 18.7031 6.5625C20.7031 7.9375 22.1406 9.75 23.0156 12C22.1406 14.25 20.7031 16.0625 18.7031 17.4375C16.7031 18.8125 14.4688 19.5 12 19.5C9.53125 19.5 7.29688 18.8125 5.29688 17.4375C3.29688 16.0625 1.85938 14.25 0.984375 12C1.85938 9.75 3.29688 7.9375 5.29688 6.5625Z" fill="#34ADE7"/>
                                      </svg>
                                    </div>
                                    <!--Validation-->
                                    <div
                                      class="invalid-feedback"
                                      *ngIf="
                                      this.passwordSent &&
                                        this.recoveryForm.controls.password.errors?.required
                                      "
                                    >
                                      ¡Tienes que rellenar este campo!
                                    </div>
                                    <div
                                      class="invalid-feedback"
                                      *ngIf="
                                      this.passwordSent &&
                                        this.recoveryForm.controls.password.errors?.minlength
                                      "
                                    >
                                      La contraseña debe tener al menos 8 caracteres
                                    </div>
                                  </div>
                                </div>

                              <!-- PASSWORD CONFIRMATION -->
                              <div class="form-outline mb-4">
                                  <div class="input-group">
                                    <!-- ICONO CANDADO -->
                                    <div class="input-group-text">
                                      <svg
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                      >
                                        <path
                                          d="M18 8H20C20.2652 8 20.5196 8.10536 20.7071 8.29289C20.8946 8.48043 21 8.73478 21 9V21C21 21.2652 20.8946 21.5196 20.7071 21.7071C20.5196 21.8946 20.2652 22 20 22H4C3.73478 22 3.48043 21.8946 3.29289 21.7071C3.10536 21.5196 3 21.2652 3 21V9C3 8.73478 3.10536 8.48043 3.29289 8.29289C3.48043 8.10536 3.73478 8 4 8H6V7C6 5.4087 6.63214 3.88258 7.75736 2.75736C8.88258 1.63214 10.4087 1 12 1C13.5913 1 15.1174 1.63214 16.2426 2.75736C17.3679 3.88258 18 5.4087 18 7V8ZM5 10V20H19V10H5ZM16 8V7C16 5.93913 15.5786 4.92172 14.8284 4.17157C14.0783 3.42143 13.0609 3 12 3C10.9391 3 9.92172 3.42143 9.17157 4.17157C8.42143 4.92172 8 5.93913 8 7V8H16Z"
                                          fill="#34ADE7"
                                        />
                                      </svg>
                                    </div>
                                    <input
                                      id="passConfirm"
                                      type="password"
                                      name="passConfirm"
                                      formControlName="passConfirm"
                                      class="fields form-control password-field is-invalid"
                                      placeholder="Repetir la contraseña"
                                      [type]="showPassword ? 'text' : 'password'"
                                      [ngClass]="{
                                        'is-invalid':
                                          this.passwordSent &&
                                          this.recoveryForm.controls.passConfirm.errors?.required || recoveryForm.errors?.noMatch
                                      }"
                                    />
                                    <!-- ICONO NO SEE -->
                                    <div class="input-group-text no-see">
                                      <svg
                                        width="24"
                                        height="24"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                        (click)="showPass()"
                                        *ngIf="!this.showPassword"
                                      >
                                        <g opacity="0.3">
                                          <path
                                            d="M17.8822 19.2971C16.1234 20.4126 14.0829 21.0034 12.0002 21.0001C6.60815 21.0001 2.12215 17.1201 1.18115 12.0001C1.61118 9.67078 2.78278 7.54296 4.52115 5.93407L1.39215 2.80807L2.80715 1.39307L22.6062 21.1931L21.1912 22.6071L17.8812 19.2971H17.8822ZM5.93515 7.35007C4.57616 8.58566 3.62947 10.2089 3.22315 12.0001C3.53545 13.3665 4.16242 14.6412 5.05416 15.7227C5.94589 16.8041 7.07778 17.6625 8.3597 18.2294C9.64163 18.7963 11.0382 19.0561 12.4382 18.9882C13.8383 18.9203 15.2031 18.5264 16.4242 17.8381L14.3962 15.8101C13.5328 16.3539 12.5104 16.5882 11.4964 16.4745C10.4824 16.3608 9.53719 15.906 8.81572 15.1845C8.09425 14.463 7.63938 13.5178 7.52571 12.5038C7.41205 11.4899 7.64634 10.4674 8.19015 9.60407L5.93515 7.35007ZM12.9142 14.3281L9.67215 11.0861C9.49422 11.539 9.45234 12.034 9.55166 12.5104C9.65098 12.9868 9.88717 13.4238 10.2313 13.7679C10.5754 14.1121 11.0124 14.3482 11.4888 14.4476C11.9652 14.5469 12.4602 14.505 12.9132 14.3271L12.9142 14.3281ZM20.8072 16.5921L19.3762 15.1621C20.0446 14.2094 20.5205 13.1353 20.7772 12.0001C20.5054 10.8098 19.9944 9.68721 19.2753 8.70056C18.5562 7.71391 17.6439 6.88379 16.594 6.26067C15.5441 5.63755 14.3784 5.23443 13.1679 5.07583C11.9573 4.91723 10.7272 5.00645 9.55215 5.33807L7.97415 3.76007C9.22115 3.27007 10.5802 3.00007 12.0002 3.00007C17.3922 3.00007 21.8782 6.88007 22.8192 12.0001C22.5127 13.6658 21.824 15.2377 20.8072 16.5921V16.5921ZM11.7232 7.50807C12.3597 7.46873 12.9973 7.56513 13.5937 7.79088C14.1901 8.01663 14.7318 8.36658 15.1827 8.81752C15.6336 9.26846 15.9836 9.81009 16.2093 10.4065C16.4351 11.003 16.5315 11.6406 16.4922 12.2771L11.7222 7.50807H11.7232Z"
                                            fill="#1E2A0F"
                                          />
                                        </g>
                                      </svg>
                                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" (click)="showPass()"
                                      *ngIf="this.showPassword">
                                        <path d="M9.89062 9.89062C10.4844 9.29688 11.1875 9 12 9C12.8125 9 13.5156 9.29688 14.1094 9.89062C14.7031 10.4844 15 11.1875 15 12C15 12.8125 14.7031 13.5156 14.1094 14.1094C13.5156 14.7031 12.8125 15 12 15C11.1875 15 10.4844 14.7031 9.89062 14.1094C9.29688 13.5156 9 12.8125 9 12C9 11.1875 9.29688 10.4844 9.89062 9.89062ZM8.4375 15.5625C9.4375 16.5312 10.625 17.0156 12 17.0156C13.375 17.0156 14.5469 16.5312 15.5156 15.5625C16.5156 14.5625 17.0156 13.375 17.0156 12C17.0156 10.625 16.5156 9.45312 15.5156 8.48438C14.5469 7.48438 13.375 6.98438 12 6.98438C10.625 6.98438 9.4375 7.48438 8.4375 8.48438C7.46875 9.45312 6.98438 10.625 6.98438 12C6.98438 13.375 7.46875 14.5625 8.4375 15.5625ZM5.29688 6.5625C7.29688 5.1875 9.53125 4.5 12 4.5C14.4688 4.5 16.7031 5.1875 18.7031 6.5625C20.7031 7.9375 22.1406 9.75 23.0156 12C22.1406 14.25 20.7031 16.0625 18.7031 17.4375C16.7031 18.8125 14.4688 19.5 12 19.5C9.53125 19.5 7.29688 18.8125 5.29688 17.4375C3.29688 16.0625 1.85938 14.25 0.984375 12C1.85938 9.75 3.29688 7.9375 5.29688 6.5625Z" fill="#34ADE7"/>
                                      </svg>
                                    </div>
                                    <div class="invalid-feedback" *ngIf="
                                      this.passwordSent &&
                                      this.recoveryForm.controls.passConfirm.errors?.required
                                    ">
                                      ¡Tienes que rellenar este campo!
                                    </div>
                                    <div
                                      class="invalid-feedback"
                                      *ngIf="this.passwordSent && recoveryForm.errors?.noMatch"
                                    >
                                      Las contraseñas no coinciden
                                    </div>
                                  </div>
                                  <!--Validation-->
                                </div>
                              <button type="submit" value="enviar"
                                  class="btn formButton btn-lg px-5 text-uppercase mt-4 text-white">
                                  <span class="spinner-border spinner-border-sm mr-1" *ngIf="isLoading"></span>
                                  Enviar
                              </button>

                          </div>
                      </form>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
